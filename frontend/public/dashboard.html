<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <title>MCC - Your Reliable Cab Service</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <nav class="navbar">
        <div class="logo">
            <h1>Mega City Cab</h1>
        </div>
        <div class="nav-links">
            <a href="index.html" class="active"><i class="fas fa-home"></i> Home</a>
            <a href="profile.html"><i class="fas fa-user"></i> Profile</a>
            <a href="about.html"><i class="fas fa-info-circle"></i> About</a>
            <a href="#" onclick="logout()"><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</a>
        </div>
        <div class="menu-toggle">
            <i class="fas fa-bars"></i>
        </div>
    </nav>
    <main class="dashboard-content">
        <section class="staff-management">
            <h2>User Management</h2>
            <div class="add-staff-form">
                <h3>Manage Members</h3>
                <div class="form-group">
                    <label for="userEmail">User Email:</label>
                    <div class="search-container">
                        <input type="email" id="userEmail" placeholder="Enter user email"
                            oninput="handleEmailSearch(event)">
                        <div id="emailSuggestions" class="suggestions-dropdown"></div>
                    </div>
                </div>
                <div id="searchResult" style="display: none;" class="user-result">
                    <h4>User Details:</h4>
                    <p>Username: <span id="resultUsername"></span></p>
                    <p>Email: <span id="resultEmail"></span></p>
                    <p>Current Role: <span id="resultRole"></span></p>
                    <div class="action-buttons">
                        <button onclick="deleteUser()" class="delete-btn"><i class="fas fa-trash"></i> Delete
                            User</button>
                    </div>
                </div>
                <div class="form-group" style="display: none;" id="roleUpdateForm">
                    <label for="roleSelect">New Role:</label>
                    <select id="roleSelect">
                    </select>
                    <button onclick="updateUserRole()">Update Role</button>
                </div>
                <div id="updateMessage"></div>
            </div>
        </section>
        <section class="Tables">
            <h2>Assing Booking </h2>
            <div class="search-booking">
                <input type="text" id="pendingOrderSearch" placeholder="Search by Order ID...">
            </div>
            <table class="rwd-table">
                <thead>
                    <tr>
                        <th>OrderId</th>
                        <th>Booking Date</th>
                        <th>Customer Name</th>
                        <th>Distance</th>
                        <th>Time</th>
                        <th>Phone Number</th>
                        <th>Pickup Location</th>
                        <th>Pickup Time</th>
                        <th>Vehicale</th>
                        <th>Total Cost</th>
                        <th>Assing</th>
                    </tr>
                </thead>
                <tbody id="pendingBookingTableBody">
                    <!-- Booking data will be populated here -->
                </tbody>
            </table>
        </section>
        <section class="Tables">
            <h2>Booking Management</h2>
            <div class="search-booking">
                <input type="text" id="orderSearchInput" placeholder="Search by Order ID...">
            </div>
            <table class="rwd-table">
                <thead>
                    <tr>
                        <th>OrderId</th>
                        <th>Booking Date</th>
                        <th>Customer Name</th>
                        <th>Email</th>
                        <th>Distance</th>
                        <th>Time</th>
                        <th>Phone Number</th>
                        <th>Pickup Location</th>
                        <th>Pickup Time</th>
                        <th>Vehicale</th>
                        <th>Total Cost</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="bookingTableBody">
                    <!-- Booking data will be populated here -->
                </tbody>
            </table>
        </section>
        <section class="Tables">
            <h2>Vehicle Management</h2>
            <div class="add-vehicle-form">
                <h3>Add New Vehicle</h3>
                <div class="form-group">
                    <input type="text" id="vehicleName" placeholder="Vehicle Name (e.g., Toyota Camry)">
                    <select id="vehicleType">
                        <option value="">Select Type</option>
                    </select>
                    <input type="number" id="distancePrice" placeholder="Price per Kilometer">
                    <input type="number" id="timePrice" placeholder="Price per Hour">
                    <div class="search-container">
                        <input type="email" id="driverEmail" placeholder="Search driver email" oninput="handleDriverSearch(event)">
                        <div id="driverSuggestions" class="suggestions-dropdown"></div>
                    </div>
                    </select>
                    <button onclick="addVehicle()" class="add-btn">Add Vehicle</button>
                </div>
            </div>
            <div class="vehicle-list">
                <table class="rwd-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Price/km</th>
                            <th>Price/hr</th>
                            <th>Email</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="vehicleTableBody">
                        <!-- Vehicle data will be populated here -->
                    </tbody>
                </table>
            </div>
        </section>
        <section class="Tables">
            <h2>Cancelled Booking Management</h2>
            <div class="search-booking">
                <input type="text" id="cancelledOrderSearchInput"  placeholder="Search by Order ID...">
            </div>
            <table class="rwd-table">
                <thead>
                    <tr>
                        <th>OrderId</th>
                        <th>Booking Date</th>
                        <th>Customer Name</th>
                        <th>Email</th>
                        <th>Distance</th>
                        <th>Time</th>
                        <th>Phone Number</th>
                        <th>Pickup Location</th>
                        <th>Pickup Time</th>
                        <th>Vehicale</th>
                        <th>Total Cost</th>
                        <th>Cancelled At</th>
                    </tr>
                </thead>
                <tbody id="cancelledBookingTableBody">
                    <!-- Cancelled booking data will be populated here -->
                </tbody>
            </table>
        </section>

    </main>
    <script src="js/dashboard.js"></script>
</body>

</html>